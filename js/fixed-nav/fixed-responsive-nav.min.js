!function(){"use strict";if("querySelector"in document&&"addEventListener"in window){var a=function(a,b,c){for(var d=0;d<a.length;d++)b.call(c,d,a[d])};FastClick.attach(document.body),smoothScroll.init();var b=responsiveNav(".nav-collapse",{closeOnNavClick:!0}),c=document.createElement("div");c.className="mask",document.body.appendChild(c),null!==navigator.userAgent.match(/Android/i)&&(document.documentElement.className+=" android");var d,e=document.querySelector(".nav-collapse ul"),f=e.querySelectorAll("a"),g=function(){d=[],a(f,function(a){var b=f[a].getAttribute("href").replace("#","");d.push(document.getElementById(b).offsetTop+200)})};g(),window.addEventListener("resize",function(){g()},!1);var h=function(b){a(f,function(a){f[a].parentNode.className=f[a].parentNode.className.replace(/[\s]{0,}active/,"")}),f[b].parentNode.className+=f[b].parentNode.className?" active":"active"},i=!1;window.addEventListener("scroll",function(){var b=window.pageYOffset,c=document.body,e=document.documentElement,f=window.innerHeight,g=Math.max(c.scrollHeight,c.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight);i||a(d,function(a,c){c>b&&(b+300>c||b+f>=g)&&h(a)})},!1),c.addEventListener("click",function(a){a.preventDefault(),b.close()},!1);var j=function(){setTimeout(function(){i=!1},500)};document.querySelector(".logo").addEventListener("click",function(a){a.preventDefault(),i=!0,h(0),b.close(),history.pushState&&history.pushState("",document.title,window.location.pathname),j()},!1),a(f,function(a){f[a].addEventListener("click",function(b){b.preventDefault(),i=!0,h(a);var c=this.getAttribute("href").replace("#",""),d=document.getElementById(c);"home"!==c?(d.removeAttribute("id"),location.hash="#"+c,d.setAttribute("id",c)):history.pushState&&history.pushState("",document.title,window.location.pathname),j()},!1)})}}();